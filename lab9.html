<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Professional To-Do List</title>
<style>
body {
  margin:0; padding:20px; display:flex; justify-content:center; align-items:flex-start;
  min-height:100vh; font-family:Poppins,sans-serif; background:#f0f4f8; transition:.3s;
}
body.dark { background:#1e293b; color:#f8fafc; }
.container {
  width:360px; background:#ffffff; padding:30px; border-radius:20px;
  box-shadow:0 15px 40px rgba(0,0,0,0.2); transition:.3s;
}
body.dark .container { background:#475569; }
h2 { text-align:center; margin-bottom:20px; color:#1e293b; font-size:1.8rem; transition:.3s; }
body.dark h2 { color:#38bdf8; }
.row { display:flex; gap:10px; margin-bottom:15px; align-items:center; }
.themeBtn { background:#0ea5e9; color:#fff; border:none; padding:7px 15px; border-radius:12px; cursor:pointer; font-weight:600; transition:.2s; }
.themeBtn:hover { opacity:.85; transform:scale(1.05); }
input{ flex:1; padding:12px; border-radius:12px; border:2px solid #cbd5e1; outline:none; color:#1e293b; font-size:1rem; background:none; transition:.2s; }
body.dark input { border-color:#64748b; color:#f8fafc; }
input:focus { border-color:#0ea5e9; }
button.addBtn{ padding:12px 18px; background:#0ea5e9; color:#fff; border:none; border-radius:12px; cursor:pointer; font-weight:600; transition:.3s; }
button.addBtn:hover { opacity:.85; transform:scale(1.05); }
ul{ list-style:none; padding:0; margin:0; }
li{ display:flex; justify-content:space-between; align-items:center; padding:12px 15px; margin-bottom:12px; border-radius:12px; background:#f8fafc; box-shadow:0 4px 12px rgba(0,0,0,0.08); transition:.3s, transform .2s; opacity:0; transform:translateY(-10px); }
li.show { opacity:1; transform:translateY(0); }
body.dark li { background:#334155; }
.done { text-decoration:line-through; color:#6B7280; opacity:.7; transition:.2s; }
.icons span{ margin-left:12px; cursor:pointer; transition:.2s; font-size:18px; }
.icons span:hover { transform:scale(1.3); color:#0ea5e9; }
</style>
</head>
<body>

<div class="container">
  <div class="row">
    <h2 style="flex:1;">To-Do List</h2>
    <button class="themeBtn" onclick="toggleTheme()">ðŸŒ™</button>
  </div>
  <div class="row">
    <input id="taskInput" placeholder="Add a task...">
    <button class="addBtn" onclick="addTask()">+</button>
  </div>
  <ul id="taskList"></ul>
</div>

<script>
const taskList = document.getElementById("taskList");
const taskInput = document.getElementById("taskInput");

window.onload = () => {
  const tasks = JSON.parse(localStorage.getItem("tasks") || "[]");
  tasks.forEach(task => createTaskElement(task.text, task.done));
  if(localStorage.getItem("theme")==="dark") document.body.classList.add("dark");
}

function saveTasks(){
  const tasks = Array.from(taskList.children).map(li => ({
    text: li.querySelector(".text").textContent,
    done: li.querySelector(".text").classList.contains("done")
  }));
  localStorage.setItem("tasks", JSON.stringify(tasks));
  localStorage.setItem("theme", document.body.classList.contains("dark") ? "dark" : "light");
}

function createTaskElement(text, done=false){
  const li = document.createElement("li");
  const textSpan = document.createElement("span");
  textSpan.className="text";
  textSpan.textContent=text;
  if(done) textSpan.classList.add("done");

  const iconsDiv = document.createElement("div");
  iconsDiv.className="icons";

  const doneBtn = document.createElement("span");
  doneBtn.textContent="âœ”";
  doneBtn.addEventListener("click", ()=>{
    textSpan.classList.toggle("done");
    li.classList.add("show");
    saveTasks();
  });

  const editBtn = document.createElement("span");
  editBtn.textContent="âœŽ";
  editBtn.addEventListener("click", ()=>{
    const newVal = prompt("Edit task:", textSpan.textContent);
    if(newVal && newVal.trim()!==""){
      textSpan.textContent=newVal.trim();
      li.classList.add("show");
      saveTasks();
    }
  });

  const deleteBtn = document.createElement("span");
  deleteBtn.textContent="ðŸ—‘";
  deleteBtn.addEventListener("click", ()=>{
    li.style.transform="translateX(100%)";
    li.style.opacity="0";
    setTimeout(()=>{ li.remove(); saveTasks(); }, 300);
  });

  iconsDiv.append(doneBtn, editBtn, deleteBtn);
  li.append(textSpan, iconsDiv);
  taskList.appendChild(li);
  setTimeout(()=>li.classList.add("show"),10);
}

function addTask(){
  const value = taskInput.value.trim();
  if(!value) return;
  createTaskElement(value);
  taskInput.value="";
  saveTasks();
}

function toggleTheme(){
  document.body.classList.toggle("dark");
  saveTasks();
}

taskInput.addEventListener("keypress", e=>{
  if(e.key==="Enter") addTask();
});
</script>

</body>
</html>
